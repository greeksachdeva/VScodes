{"title":{"en":"E1. Permutation Minimization by Deque","ru":"E1. Минимизация перестановки деком"},"contestId":"1579","problemIndex":"E1","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p><span class=\"tex-font-style-it\">In fact, the problems E1 and E2 do not have much in common. You should probably think of them as two separate problems.</span></p><p>A permutation $$$p$$$ of size $$$n$$$ is given. A <span class=\"tex-font-style-it\">permutation</span> of size $$$n$$$ is an array of size $$$n$$$ in which each integer from $$$1$$$ to $$$n$$$ occurs exactly once. For example, $$$[1, 4, 3, 2]$$$ and $$$[4, 2, 1, 3]$$$ are correct permutations while $$$[1, 2, 4]$$$ and $$$[1, 2, 2]$$$ are not.</p><p>Let us consider an empty <a href=\"https://tinyurl.com/pfeucbux\">deque</a> (double-ended queue). A deque is a data structure that supports adding elements to both the beginning and the end. So, if there are elements $$$[1, 5, 2]$$$ currently in the deque, adding an element $$$4$$$ to the beginning will produce the sequence $$$[\\color{red}{4}, 1, 5, 2]$$$, and adding same element to the end will produce $$$[1, 5, 2, \\color{red}{4}]$$$.</p><p>The elements of the permutation are sequentially added to the initially empty deque, starting with $$$p_1$$$ and finishing with $$$p_n$$$. Before adding each element to the deque, you may choose whether to add it to the beginning or the end.</p><p>For example, if we consider a permutation $$$p = [3, 1, 2, 4]$$$, one of the possible sequences of actions looks like this: </p><table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-text-align-left\">$$$\\quad$$$ 1.</td><td class=\"tex-tabular-text-align-left\">add $$$3$$$ to the end of the deque:</td><td class=\"tex-tabular-text-align-left\">deque has a sequence $$$[\\color{red}{3}]$$$ in it;</td></tr><tr><td class=\"tex-tabular-text-align-left\">$$$\\quad$$$ 2.</td><td class=\"tex-tabular-text-align-left\">add $$$1$$$ to the beginning of the deque:</td><td class=\"tex-tabular-text-align-left\">deque has a sequence $$$[\\color{red}{1}, 3]$$$ in it;</td></tr><tr><td class=\"tex-tabular-text-align-left\">$$$\\quad$$$ 3.</td><td class=\"tex-tabular-text-align-left\">add $$$2$$$ to the end of the deque:</td><td class=\"tex-tabular-text-align-left\">deque has a sequence $$$[1, 3, \\color{red}{2}]$$$ in it;</td></tr><tr><td class=\"tex-tabular-text-align-left\">$$$\\quad$$$ 4.</td><td class=\"tex-tabular-text-align-left\">add $$$4$$$ to the end of the deque:</td><td class=\"tex-tabular-text-align-left\">deque has a sequence $$$[1, 3, 2, \\color{red}{4}]$$$ in it;</td></tr></tbody></table><p></p><p>Find the lexicographically smallest possible sequence of elements in the deque after the entire permutation has been processed. </p><p>A sequence $$$[x_1, x_2, \\ldots, x_n]$$$ is <span class=\"tex-font-style-it\">lexicographically smaller</span> than the sequence $$$[y_1, y_2, \\ldots, y_n]$$$ if there exists such $$$i \\leq n$$$ that $$$x_1 = y_1$$$, $$$x_2 = y_2$$$, $$$\\ldots$$$, $$$x_{i - 1} = y_{i - 1}$$$ and $$$x_i &lt; y_i$$$. In other words, if the sequences $$$x$$$ and $$$y$$$ have some (possibly empty) matching prefix, and the next element of the sequence $$$x$$$ is strictly smaller than the corresponding element of the sequence $$$y$$$. For example, the sequence $$$[1, 3, 2, 4]$$$ is smaller than the sequence $$$[1, 3, 4, 2]$$$ because after the two matching elements $$$[1, 3]$$$ in the start the first sequence has an element $$$2$$$ which is smaller than the corresponding element $$$4$$$ in the second sequence.</p>","ru":"<p><span class=\"tex-font-style-it\">На самом деле, задачи E1 и E2 не имеют много общего. Вероятно, вам надо воспринимать их как две отдельные задачи.</span></p><p>Дана перестановка $$$p$$$ размера $$$n$$$. <span class=\"tex-font-style-it\">Перестановкой</span> размера $$$n$$$ называется массив размера $$$n$$$, в котором каждое целое число от $$$1$$$ до $$$n$$$ встречается по одному разу. Например, $$$[1, 4, 3, 2]$$$ и $$$[4, 2, 1, 3]$$$ являются перестановками, а $$$[1, 2, 4]$$$ и $$$[1, 2, 2]$$$&nbsp;— нет.</p><p>Рассмотрим пустой <a href=\"https://tinyurl.com/fjfbnmmv\">дек</a> (двухстороннюю очередь). Дек&nbsp;— это структура данных, поддерживающая добавление элементов как в начало, так и в конец. Так, если сейчас в деке лежат элементы $$$[1, 5, 2]$$$, при добавлении элемента $$$4$$$ в начало получится последовательность $$$[\\color{red}{4}, 1, 5, 2]$$$, а при добавлении в конец&nbsp;— $$$[1, 5, 2, \\color{red}{4}]$$$.</p><p>Элементы перестановки по очереди перемещаются в изначально пустой дек, начиная с $$$p_1$$$ и заканчивая $$$p_n$$$. Перед добавлением каждого элемента в дек разрешается выбрать, добавить его в начало или в конец.</p><p>Например, если рассмотреть перестановку $$$p = [3, 1, 2, 4]$$$, то одна из возможных последовательностей действий выглядит так: </p><table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-text-align-left\">$$$\\quad$$$ 1.</td><td class=\"tex-tabular-text-align-left\">положить $$$3$$$ в конец дека:</td><td class=\"tex-tabular-text-align-left\">в деке лежит $$$[\\color{red}{3}]$$$;</td></tr><tr><td class=\"tex-tabular-text-align-left\">$$$\\quad$$$ 2.</td><td class=\"tex-tabular-text-align-left\">положить $$$1$$$ в начало дека:</td><td class=\"tex-tabular-text-align-left\">в деке лежит $$$[\\color{red}{1}, 3]$$$;</td></tr><tr><td class=\"tex-tabular-text-align-left\">$$$\\quad$$$ 3.</td><td class=\"tex-tabular-text-align-left\">положить $$$2$$$ в конец дека:</td><td class=\"tex-tabular-text-align-left\">в деке лежит $$$[1, 3, \\color{red}{2}]$$$;</td></tr><tr><td class=\"tex-tabular-text-align-left\">$$$\\quad$$$ 4.</td><td class=\"tex-tabular-text-align-left\">положить $$$4$$$ в конец дека:</td><td class=\"tex-tabular-text-align-left\">в деке лежит $$$[1, 3, 2, \\color{red}{4}]$$$;</td></tr></tbody></table><p></p><p>Найдите лексикографически минимальную возможную последовательность элементов в деке после того, как будет обработана вся перестановка. </p><p>Последовательность $$$[x_1, x_2, \\ldots, x_n]$$$ <span class=\"tex-font-style-it\">лексикографически меньше</span> последовательности $$$[y_1, y_2, \\ldots, y_n]$$$, если существует такое $$$i \\leq n$$$, что $$$x_1 = y_1$$$, $$$x_2 = y_2$$$, $$$\\ldots$$$, $$$x_{i - 1} = y_{i - 1}$$$ и $$$x_i &lt; y_i$$$. Иными словами, если последовательности $$$x$$$ и $$$y$$$ имеют некоторое (возможно, пустое) совпадающее начало, а следующий элемент последовательности $$$x$$$ строго меньше соответствующего элемента последовательности $$$y$$$. Например, последовательность $$$[1, 3, 2, 4]$$$ меньше последовательности $$$[1, 3, 4, 2]$$$, так как после совпадающего начала $$$[1, 3]$$$ в первой последовательности идет меньшее число ($$$2$$$), чем во второй ($$$4$$$).</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains an integer $$$t$$$ ($$$1 \\leq t \\leq 1000$$$)&nbsp;— the number of test cases.</p><p>The next $$$2t$$$ lines contain descriptions of the test cases. </p><p>The first line of each test case description contains an integer $$$n$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$)&nbsp;— permutation size. The second line of the description contains $$$n$$$ space-separated integers $$$p_i$$$ ($$$1 \\le p_i \\le n$$$; all $$$p_i$$$ are all unique)&nbsp;— elements of the permutation.</p><p>It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке записано целое число $$$t$$$ ($$$1 \\leq t \\leq 1000$$$)&nbsp;— количество наборов входных данных.</p><p>В следующих $$$2t$$$ строках даны описания наборов входных данных. </p><p>В описании каждого набора входных данных первая строка содержит целое число $$$n$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$)&nbsp;— размер перестановки, а во второй строке через пробел перечислены $$$n$$$ целых чисел $$$p_i$$$ ($$$1 \\le p_i \\le n$$$; все $$$p_i$$$ различны)&nbsp;— элементы перестановки.</p><p>Гарантируется, что сумма $$$n$$$ по всем наборам входных данных не превосходит $$$2 \\cdot 10^5$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Print $$$t$$$ lines, each line containing the answer to the corresponding test case. The answer to a test case should contain $$$n$$$ space-separated integer numbers&nbsp;— the elements of the lexicographically smallest permutation that is possible to find in the deque after executing the described algorithm.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите $$$t$$$ строк, каждая из которых содержит ответ на соответствующий набор входных данных. В качестве ответа выведите через пробел $$$n$$$ чисел&nbsp;— элементы лексикографически минимальной перестановки, которую возможно получить в деке после выполнения описанного алгоритма.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>One of the ways to get a lexicographically smallest permutation $$$[1, 3, 2, 4]$$$ from the permutation $$$[3, 1, 2, 4]$$$ (the first sample test case) is described in the problem statement.</p>","ru":"<div class=\"section-title\">Примечание</div><p>Один из способов получить лексикографически минимальную перестановку $$$[1, 3, 2, 4]$$$ из перестановки $$$[3, 1, 2, 4]$$$ (первый набор входных данных из примера) описан в условии задачи.</p>"},"sampleTestcases":[{"id":1634156384825,"input":"5\n4\n3 1 2 4\n3\n3 2 1\n3\n3 1 2\n2\n1 2\n2\n2 1\n","output":"1 3 2 4 \n1 2 3 \n1 3 2 \n1 2 \n1 2 \n"}],"submitUrl":"https://codeforces.com/problemset/submit","language":"c++"}